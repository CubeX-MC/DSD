# DSD Prompt 模板

本文件包含 DSD 框架的四个核心 Prompt 模板，用于与 LLM 进行人机协作式服务器设计。

---

## 使用流程

```
开始 → Prompt A (推理) → Prompt B (矛盾) → Prompt C (方案) → 人类决策 → 实施 → Prompt D (验证) → 下一次迭代
```

---

## Prompt A：推理 (Deduction)

**目标：** 基于当前服务器状态，推导出必然发生的玩家行为和社会现象。

````markdown
角色：你是一名研究《我的世界》服务器的人类学家。

任务：分析服务器的"物质基础" {Assumptions}，并基于"公理"和"推论" {Rules}，推理出最可能产生的玩家社会现象和心理现象。若在推理过程中使用了{Rules}之外的知识（理论/定理/经验法则/官方机制文档/插件文档等），必须在文末提供"外部知识引用"清单，并在对应推论处标注 [EXT-n] 以建立引用映射。

服务器核心目标 {CoreGoals}：
{ 在此插入您的核心目标，例如：
  1. 高玩家留存率（月留存>60%）
  2. 高社区和谐度（玩家满意度>7/10）
}

服务器现状 {Assumptions}：
{ 在此插入服务器现状，例如：
  - 版本：原版生存 1.20.x
  - 插件：GriefPrevention（领地保护）
  - 玩家数：15人
  - 运行时间：2个月
}

{Rules}:
{
公理（AX）：
AX-1.  **主权公理（规则制定权）：** 服务器的规则由管理者定义。服主/OP 拥有最终解释权和执行权。
AX-2.  **可塑性公理（技术可行性）：** 世界是数据，一切皆可修改。物理规则、物品属性、玩家状态都可以通过插件或指令改变。
AX-3.  **人性公理（动机与需求）：** 玩家是人，有多层次需求（马斯洛层次）：生理安全（不被杀）、归属认同（找到组织）、自我实现（建筑/成就）。
AX-4.  **异步性公理（非连续存在）：** 玩家的存在是离散的（会下线），世界的运行是连续的。网络延迟和时间差异是常态。
AX-5.  **交互约束公理（操作有限性）：** 玩家只能通过有限的交互方式（挖、放、打、聊天）影响世界。接口限制了行为的可能性。
AX-6.  **稀缺性公理（资源）：** 有限时间和空间内，资源、管理注意力都是有限的，而玩家的欲望和需求是无限的。
AX-7.  **服务器熵增：** 在无外力干涉的情况下，服务器的状态会自发地由有序走向无序。（社会状态与物质状态）
AX-8.  **信息不对称公理：** 玩家之间、玩家与管理员之间掌握的信息程度不同。信息的分布是不均匀的。
AX-9.  **空间性公理（位置约束）：** 玩家在三维空间中的位置和距离影响交互。物理距离限制了即时互动的可能性。
AX-10. **不可逆性公理（历史依赖）：** 某些操作一旦发生，其影响难以完全消除。社会记忆和玩家体验无法完全重置。

定理（Theorems）：
- 管理（MG）：
  MG-1.  **合法性（Legitimacy）：** 秩序依赖玩家对规则的认同，而非单纯权力。
  MG-2.  **规则制定能力（Rule‑making）：** 技术上可改一切；vanilla 主要靠命令/配置。
  MG-3.  **财产权与安全（Property）：** 异步世界里重视财产安全；vanilla 缺少原生领地保护。
  MG-4.  **重复厌倦（Gamification）：** 重复劳动易厌倦，需目标与反馈。
  MG-5.  **作弊诱因（Cheating）：** 反作弊受限，需行为审计与治理。
  MG-6.  **符号价值（Symbolic）：** 社会认同常超越工具性效用。
  MG-7.  **管理注意力（Attention）：** 管理精力稀缺且会耗散。
  MG-8.  **记忆与日志（Memory）：** 原生日志有限，可用工具增强追溯。
  MG-9.  **古德哈特（Goodhart）：** 指标成目标即被游戏化，需多维与抽样审计。
  MG-10. **透明—遵从（Transparency）：** 可见、可审计的规则提升遵从与合法性。
  MG-11. **复杂度成本（Complexity）：** 保持“最小可执行规则集”（MVR）。
  MG-12. **启束性约束（Enabling constraints）：** 适度边界促自组织；无约束易致无序。

- 人口（POP）：
  POP-1. **宣传—转化漏斗（Acquisition）：** 外宣提升新客，受首日体验/延迟/匹配度影响。
  POP-2. **新客早期流失（Early churn）：** 首30分钟引导与目标决定去留。
  POP-3. **老客倦怠（Boredom）：** 物质富足后需新目标/赛季制延缓流失。
  POP-4. **冲突倒U（Inverted‑U）：** 适度冲突活跃，过度冲突致流失。
  POP-5. **广告递减收益（Ad response）：** 投放与进服正相关但边际递减。
  POP-6. **参与幂律（Power‑law）：** 少数核心贡献多数产出。
  POP-7. **推荐增长（K‑factor）：** 邀请与口碑带来乘数式新客。
  POP-8. **赛季/队列（Seasonality/cohort）：** 留存分段衰减；赛季重启+回流伴成本。
  POP-9. **虹吸/累积优势（Cumulative advantage）：** 达可见活跃阈值后自然流入；体验变差则逆转。
  POP-9. **虹吸/累积优势定理：** 当服务器达到并稳定在某一“可见活跃阈值”（常见表现为固定时段 3–8 并发或 10–30 日活，随品类/时区而异）后，即使停止外宣也会因社会认同（PSY-6）、网络效应（SOC-5）与口碑/平台可见性而产生持续自然流入；但若 TPS 低、冲突频发或新手体验变差，虹吸会迅速逆转。

- 心理（PSY）：
  PSY-1.  **社会性（Sociality）：** 玩家具有社会需求与互动动机。
  PSY-2.  **权力吸引（Power）：** 管理权限对玩家具天然吸引力。
  PSY-3.  **社会学习（Social learning）：** 玩家模仿高地位/示范者的行为。
  PSY-4.  **外部性（Externalities）：** 个体行为会影响他人效用/成本（含共享资源）。
  PSY-5.  **损失厌恶（Loss aversion）：** 损失的心理权重高于同额收益。
  PSY-6.  **社会认同（Social proof）：** 可见的多数提升参与概率。
  PSY-7.  **心流（Flow）：** 挑战与能力匹配提升沉浸；过易/过难致流失。
  PSY-8.  **网络去抑制（Disinhibition）：** 匿名与低约束易越界；可追溯抑制。

- 社会（SOC）：
  SOC-1.  **社会凝聚（Cohesion）：** 为安全与效率，玩家倾向组团与分工。
  SOC-2.  **身份认同（Identity）：** 符号与风格强化内外边界。
  SOC-3.  **制度化（Institutionalization）：** 为存续，自人治转法治与角色规则。
  SOC-4.  **亚文化/本地规范（Subculture）：** 群体会形成更严的本地规范。
  SOC-5.  **网络效应（Network effects）：** 价值随规模非线性；最优人数区间受性能约束。
  SOC-6.  **临界质量（Critical mass）：** 存在最小并发/规模阈值，越过后自组织加速。
  SOC-7.  **公地悲剧（Commons）：** 共享资源无治理会被过度消耗。
  SOC-8.  **规范生成（Norm emergence）：** 重复互动下自发形成非正式规范。
  SOC-9.  **同质性聚集（Homophily）：** 相似者更易聚集，强化圈层与回音室。
  SOC-10. **破窗效应（Broken windows）：** 显著无序诱发更多违规；快速修复可抑制。
}

请按以下格式输出你的 {InferenceList}：

  - **推论现象1：** [描述一个最可能发生的具体现象]
      - **动因公理：** [解释这为什么会发生，关联到具体公理（例如：源于公理4-异步性 和 公理6-稀缺性）]
      - **具体示例：** [举一个具体的玩家行为例子]
      - **可能性评估：** [高/中/低]
    - **外部知识标签（如有）：** [EXT-1 / EXT-2 ...]

  - **推论现象2：** ...

此外，请在文末追加一个 YAML 代码块（用于直接粘贴到 Prompt B 的 {InferenceList}）：

```yaml
InferenceList:
  - id: INF-1
    title: "现象标题"
    axioms: [AX-4, AX-6]
    theorems: [MG-3, SOC-2]
    example: "一个具体的玩家行为例子"
    likelihood: 高 # 高/中/低
    ext_refs: [EXT-1]
  - id: INF-2
    title: "..."
    axioms: []
    theorems: []
    example: "..."
    likelihood: 中
    ext_refs: []
```

要求：
1. 至少给出5个不同维度的推论（经济、社交、冲突、建设、新人体验等）
2. 每个推论必须明确引用 AX-/（如适用）MG-/POP-/PSY-/SOC- 编号。
3. 优先考虑对核心目标影响最大的现象。
4. 不得默用 {Rules} 之外的知识；如确需使用，需在文末"外部知识引用"列出来源、类型与用途，并在正文以 [EXT-n] 标注。

外部知识引用（如有）：
- EXT-1：
  - 来源/链接：
  - 类型：[论文 / 维基 / 官方文档 / 插件文档 / 经验法则]
  - 关联内容：[#推论编号]
  - 使用范围：说明该知识用于何处、为何必要、与 {Rules} 的关系（补充/佐证/边界条件）。
````

---

## Prompt B：寻找矛盾 (Contradiction)

**目标：** 对比核心目标与推理出的现象，识别关键矛盾。

````markdown
角色：你是一名服务器设计规划师。

任务：对比"核心目标"与"现状推论"，找出它们之间的所有矛盾。

服务器核心目标 {CoreGoals}：
{ 在此插入您的核心目标 }

现状推论 {InferenceList}：
{ 在此粘贴 Prompt A 的输出结果 }

请按以下格式输出你的 {ContradictionList}，并按优先级排序（最破坏"核心目标"的排在最前面）：

  - **矛盾1 (🔴高优先级)：**
      - **目标冲突：** [描述哪个"核心目标"被违背了]
      - **现象根源：** [引用 {InferenceList} 中的哪条推论导致了此冲突]
      - **影响评估：** [定量或定性描述影响程度，例如："预计导致20%玩家流失"]
      - **紧急程度：** [立即解决 / 本月解决 / 可延后观察]

  - **矛盾2 (🟡中优先级)：** ...

  - **矛盾3 (🟢低优先级)：** ...

此外，请在文末追加一个 YAML 代码块（用于直接粘贴到 Prompt C 的 {ContradictionList}）：

```yaml
ContradictionList:
  - id: CON-1
    title: "矛盾标题"
    goals_conflicted: ["高玩家留存率", "高社区和谐度"]
    origin_inferences: [INF-1, INF-2]
    impact: 高 # 高/中/低
    priority: 高 # 高/中/低（对应 🔴/🟡/🟢）
    urgency: 立即解决 # 立即解决/本月解决/可延后观察
    metrics: [retention_30d, conflicts_per_week]
    estimated_effect: "预计导致20%玩家流失"
  - id: CON-2
    title: "..."
    goals_conflicted: []
    origin_inferences: []
    impact: 中
    priority: 中
    urgency: 本月解决
    metrics: []
    estimated_effect: ""
```

优先级判断标准：
- 🔴高优先级：直接威胁核心目标，影响>50%玩家
- 🟡中优先级：部分影响核心目标，影响20-50%玩家
- 🟢低优先级：轻微影响或仅影响少数玩家

要求：
1. 不要遗漏高优先级矛盾
2. 说明为什么给出这样的优先级排序
3. 如果两个推论相互抵消（例如：A增加和谐，B减少和谐），也要指出
4. 在文末附上 YAML 版本的 {ContradictionList}，并确保引用的 INF-* 与指标键与前后环节一致
````

---

## Prompt C：提出方案 (Synthesis)

**目标：** 针对高优先级矛盾，设计可执行的解决方案。

````markdown
角色：你是一名经验丰富的《我的世界》服主和插件开发者。

任务：针对"矛盾列表"中【高优先级】的矛盾，提出具体的、可执行的解决方案。

解决方案分类框架 {SolutionCategories}：
你的所有解决方案【必须】明确其执行主体：
- S (系统自动执行)：服务器/插件 24/7 自动运行
- M (管理人工执行)：需要服主/OP 主动介入
- P (玩家自组织)：由玩家社区自发维护
- H (混合执行)：需要多方协同

矛盾列表 {ContradictionList}：
{ 在此粘贴 Prompt B 的输出结果 }

当前可用资源：
{ 例如：
  - 服务器性能：中等（可运行轻量级插件）
  - 管理精力：每周约5小时
  - 玩家基础：有3-4名活跃老玩家愿意帮助新人
}

请按以下格式输出你的 {SolutionList}：

  - **解决方案1：**
      - **方案名称：** [例如：安装 GriefPrevention 领地插件]
      - **执行主体：** [例如：S (系统自动执行)]
      - **解决的矛盾：** [引用 {ContradictionList} 中的矛盾编号]
      - **实施细节：**
          - 技术实现：[插件名称/配置要点/指令设置]
          - 需要宣布的规则：[玩家需要知道什么]
          - 实施步骤：[1. ... 2. ... 3. ...]
      - 参考资料（如有）：[EXT-1 / EXT-2 ...]（插件文档/官方机制/实践指南等）
      - **资源成本：**
          - 服务器性能：[无影响 / 轻微 / 中等 / 较高]
          - 管理精力：[一次性投入X小时 + 每周Y小时维护]
          - 玩家学习成本：[易 / 中 / 难]
      - **预期效果：** [定量描述，例如："预计减少80%财产纠纷"]
      - **辩证分析（新矛盾预测）：** [重要！预测此方案【可能引入的新矛盾】]
          - 新矛盾1：[描述]
          - 新矛盾2：[描述]
      - **风险评估：** [实施此方案可能的失败点和应对措施]

要求：
1. 优先选择"S+P"组合（系统辅助 + 玩家自治）
2. 避免纯"M"方案（管理员会因公理4-异步性而无法持续）
3. 每个方案必须有清晰的"成功标准"，并绑定可验证的指标键。
4. 诚实预测新矛盾，这是辩证法的核心。
5. 如方案依赖 {Rules} 之外的知识（插件最佳实践/外部机制/第三方研究），必须给出引用标签 [EXT-n]，并在文末统一列出：来源/类型/用途/边界条件。

    此外，请在文末追加一个 YAML 代码块（用于直接粘贴到 Prompt D 的 {SolutionList}）：

    ```yaml
    SolutionList:
      - id: SOL-1
        name: "方案名称"
        executor: S  # S/M/P/H
        solves: [CON-1]
        implementation:
          tech: "插件名称/配置要点/指令设置"
          announced_rules: ["玩家需要知道的规则A", "规则B"]
          steps: ["步骤1", "步骤2", "步骤3"]
          capability_bounds: "vanilla/插件能力边界说明"
          references: [EXT-1]
        costs:
          performance: "轻微"  # 无影响/轻微/中等/较高
          admin_effort: "一次性X小时 + 每周Y小时"
          learning_cost: "中"   # 易/中/难
        expected_effect: "预计减少80%财产纠纷"
        success_metrics:
          - key: retention_30d
            target: ">= 60%"
          - key: conflicts_per_week
            target: "<= 3"
        dialectics:
          predicted_new_issues:
            - id: NCON-1
              title: "新矛盾标题"
              description: "描述"
        risks: ["失败点1", "失败点2"]
    ```
````

---

## Prompt D：验证与反馈 (Validation)

**目标：** 实施方案后，基于数据验证效果，决定下一步行动。

````markdown
角色：你是一名数据分析师和服务器运营顾问。

任务：基于实际数据，验证已实施的解决方案是否达成了预期效果。

已实施的方案 {ImplementedSolutions}：
{ 在此粘贴已经实施的方案列表，包括：
  - 方案名称
  - 实施时间
  - 预期效果
}

可用数据 {AvailableData}：
{ 在此粘贴你收集到的数据，例如：
  - 玩家数据：
      - 平均在线时长：实施前 45分钟/天 → 实施后 38分钟/天
      - 月留存率：实施前 52% → 实施后 64%
      - 新玩家7日留存：实施前 30% → 实施后 55%
  - 社区数据：
      - 玩家冲突事件：实施前 12次/周 → 实施后 3次/周
      - 聊天活跃度：实施前 200条/天 → 实施后 350条/天
  - 问卷数据：
      - 社区和谐度评分：实施前 6.2/10 → 实施后 7.8/10
      - 玩家对XX功能的满意度：8.1/10
  - 管理数据：
      - 举报处理量：实施前 8次/周 → 实施后 2次/周
}

核心目标 {CoreGoals}：
{ 在此插入您的核心目标 }

请按以下格式输出你的 {ValidationReport}：

  - **方案1 验证结果：**
      - **目标达成情况：** [✅成功 / ⚠️部分成功 / ❌失败]
      - **数据支持：**
          - 关键指标A：[引用 {AvailableData}，例如："月留存率提升12%，符合预期"]
          - 关键指标B：[...]
    - **外部知识复核（如有）：**
      - 关联引用：[EXT-1 / EXT-2 ...]
      - 有效性评估：[该外部知识在本服环境下是否成立？是否需要修正？]
      - **意外发现：**
          - 正面意外：[例如："聊天活跃度意外提升了75%，说明玩家社交需求被满足"]
          - 负面意外：[例如："新手反映学习成本过高"]
      - **新矛盾验证：** [Prompt C 中预测的新矛盾是否真的出现了？]
          - 预测矛盾1：[已出现 / 未出现 / 部分出现]
          - 预测矛盾2：[...]
      - **根本原因分析：** [如果失败或部分成功，分析原因]
      - **优化建议：**
          - 如果成功：[是否需要进一步扩展？]
          - 如果部分成功：[需要调整哪些参数？]
          - 如果失败：[应该回滚还是改进？]
      - **下一步行动：** [选择一项]
          - [ ] 继续观察（等待更多数据）
          - [ ] 微调参数（具体调整：___）
          - [ ] 回滚方案（恢复到实施前状态）
          - [ ] 进入下一次迭代（解决新矛盾：___）

要求：
1. 必须基于客观数据，不能臆测。
2. 如果数据不足，明确指出需要收集哪些数据。
3. 优先分析核心目标相关的指标，并与方案绑定的指标键一致。
4. 给出明确的、可操作的下一步建议。
5. 若 Prompt A/C 中使用了外部知识 [EXT-n]，需在此复核其适用性，必要时更新引用备注或提出替代依据。

此外，请在文末追加一个 YAML 代码块（用于归档 {ValidationReport}，便于下一轮使用）：

```yaml
ValidationReport:
  - solution_id: SOL-1
    status: success   # success/partial/fail
    metrics:
      - key: retention_30d
        before: "52%"
        after: "64%"
        evaluation: "达成"
      - key: conflicts_per_week
        before: 12
        after: 3
        evaluation: "达成"
    ext_review:
      refs: [EXT-1]
      validity: "成立"   # 成立/不完全成立/不成立
      notes: "该插件行为与官方机制在本服版本下表现一致"
    findings:
      positive: ["聊天活跃度上升"]
      negative: ["新手学习成本偏高"]
    new_issues_verification:
      - id: NCON-1
        result: "已出现"   # 已出现/未出现/部分出现
    root_cause: "新手引导不足导致早期流失"
    recommendation:
      action: "微调参数"   # 继续观察/微调参数/回滚方案/进入下一次迭代
      adjustments: "增加出生点指引与基础套装"
```
````

---

## Prompt 使用技巧

### 1. 迭代记录模板

建议创建一个"迭代日志"文件，记录每次使用 Prompt 的结果：

````markdown
## 迭代 X - YYYY-MM-DD

### 当前状态
- [粘贴 CurrentState]

### Prompt A 输出
- [粘贴推论列表]

### Prompt B 输出
- [粘贴矛盾列表]

### Prompt C 输出
- [粘贴方案列表]

### 人类决策
- 选择实施：方案1、方案3
- 不实施原因：方案2成本过高

### 实施时间
- 开始：YYYY-MM-DD
- 预计验证：YYYY-MM-DD

### Prompt D 输出（待验证）
- [待填写]
````

### 2. 数据收集建议

为了让 Prompt D 有效，建议使用以下插件收集数据：
- **Plan** 或 **CoreProtect**：记录玩家行为日志
- **LuckPerms**：追踪玩家在线时长
- **DiscordSRV**：监测社区聊天活跃度
- **自定义问卷**：定期（如每月）发放 Google Form

### 3. 多轮对话策略

如果 AI 的输出不够具体，可以追问：
- "请给出方案1的详细插件配置文件"
- "矛盾2的影响评估能否更定量？"
- "能否再给3个备选方案？"

### 4. 人类审核清单

在采纳 AI 建议前，检查：
- [ ] 方案是否符合服务器的价值观？
- [ ] 玩家社区是否已经讨论过？
- [ ] 是否有现成插件或需要开发？
- [ ] 是否考虑了老玩家的感受？

---

## 许可证

本文件采用与 DSD 框架相同的 GPL-3.0 许可。
